@import 'tailwindcss';

/* ========================================
   TAILWIND V4 THEME CONFIGURATION
   ======================================== */

@theme {
  /* Core Design Tokens - Creates Global Variables */

  /* Background - Charcoal instead of pure black */
  --color-paper-light: #1a1d23; /* Charcoal with blue undertone */
  --color-paper-dark: #0f1115; /* Deep charcoal */

  /* Text - Warmer tones */
  --color-ink-light: #e8eaed; /* Soft white */
  --color-ink-dark: #f5f6f7; /* Warm white */

  /* Accent Colors - Golden Yellow & Coral */
  --color-accent: #ffc000; /* Golden Yellow - vibrant & energetic */
  --color-accent-secondary: #ffb38e; /* Coral Peach - warm complement */
  --color-success: #6ee7b7; /* Soft emerald */
  --color-alert: #fb7185; /* Soft rose */

  /* Grid & Borders */
  --color-grid-light: #252931; /* Subtle charcoal */
  --color-grid-dark: #1c1f26; /* Deep grid */

  /* Text hierarchy */
  --color-muted-light: #94a3b8; /* Slate blue-gray */
  --color-muted-dark: #a8b5c7; /* Light slate */

  --color-dim-light: #64748b; /* Medium slate */
  --color-dim-dark: #7589a3; /* Lighter slate */

  /* Typography */
  --font-serif: 'Playfair Display', serif;
  --font-mono: 'Roboto Mono', 'JetBrains Mono', monospace;
  --font-sans: 'Inter', system-ui, sans-serif;

  /* Shadows */
  --shadow-brutal: 8px 8px 0px 0px currentColor;
  --shadow-brutal-sm: 4px 4px 0px 0px currentColor;
}

/* ========================================
   STATIC DESIGN CONSTANTS
   ======================================== */

@theme inline {
  /* Static values that never change across themes */
  --glass-blur: 16px;
  --noise-opacity-light: 0.03;
  --noise-opacity-dark: 0.04;
  --transition-duration: 0.3s;
  --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========================================
   BASE LAYER
   ======================================== */

@layer base {
  :root {
    /* Default theme variables */
    --bg-paper: var(--color-paper-light);
    --text-ink: var(--color-ink-light);
    --color-grid: var(--color-grid-light);
    --text-muted: var(--color-muted-light);
    --text-dim: var(--color-dim-light);
    --noise-opacity: var(--noise-opacity-light);
    --glass-bg: rgba(26, 29, 35, 0.7);
    --glass-border: rgba(232, 234, 237, 0.08);
  }

  .dark {
    /* Dark theme overrides */
    --bg-paper: var(--color-paper-dark);
    --text-ink: var(--color-ink-dark);
    --color-grid: var(--color-grid-dark);
    --text-muted: var(--color-muted-dark);
    --text-dim: var(--color-dim-dark);
    --noise-opacity: var(--noise-opacity-dark);
    --glass-bg: rgba(15, 17, 21, 0.8);
  }

  .light {
    /* Light theme overrides */
    --bg-paper: #f8fafb;
    --text-ink: #1a1d23;
    --color-accent: #efbf04;
    --color-accent-secondary: #ff9470;
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(26, 29, 35, 0.08);
  }

  html {
    scroll-padding-top: 80px;
    overflow-x: hidden;
  }

  body {
    background-color: var(--bg-paper);
    color: var(--text-ink);
    font-family: var(--font-mono);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color 0.5s var(--transition-timing),
      color 0.5s var(--transition-timing);
  }

  ::selection {
    background: var(--color-accent);
    color: var(--bg-paper);
  }
}

/* ========================================
   UTILITIES LAYER
   ======================================== */

@layer utilities {
  /* Glassmorphism Components */
  .glass-panel {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid var(--glass-border);
    border-radius: 12px;
  }

  @supports not (backdrop-filter: blur(1px)) {
    .glass-panel {
      background: rgba(26, 29, 35, 0.95);
    }
  }

  .glass-panel-sm {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
  }

  /* Glow Effects - Updated for Golden Yellow */
  .glow-gold {
    box-shadow: 0 0 30px
      color-mix(in oklch, var(--color-accent) 40%, transparent);
  }

  .glow-gold-soft {
    box-shadow: 0 0 20px
      color-mix(in oklch, var(--color-accent) 15%, transparent);
  }

  .glow-coral {
    box-shadow: 0 0 30px
      color-mix(in oklch, var(--color-accent-secondary) 40%, transparent);
  }

  .hover-glow {
    transition: all var(--transition-duration) var(--transition-timing);
  }

  .hover-glow:hover {
    box-shadow: 0 10px 40px
      color-mix(in oklch, var(--color-accent) 15%, transparent);
    transform: translateY(-4px);
  }

  /* Text Effects */
  .text-glow {
    text-shadow: 0 0 20px
      color-mix(in oklch, var(--color-accent) 40%, transparent);
  }

  /* Noise Texture - Optimized */
  .bg-noise {
    position: relative;
  }

  .bg-noise::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAwIDIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZmlsdGVyIGlkPSJub2lzZUZpbHRlciI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjbm9pc2VGaWx0ZXIpIiBvcGFjaXR5PSIwLjA1Ii8+PC9zdmc+');
    opacity: var(--noise-opacity);
    pointer-events: none;
    will-change: auto;
    z-index: -1;
  }

  /* Dashed grid line effect */
  .dashed-line {
    background-image: linear-gradient(
      to bottom,
      currentColor 50%,
      transparent 50%
    );
    background-size: 1px 12px;
    background-repeat: repeat-y;
  }

  /* Animated gradient background - GPU optimized */
  .bg-gradient-animated {
    position: relative;
    overflow: hidden;
  }

  .bg-gradient-animated::before {
    content: '';
    position: absolute;
    inset: -100%;
    background: linear-gradient(
      135deg,
      transparent 0%,
      color-mix(in oklch, var(--color-accent) 3%, transparent) 50%,
      transparent 100%
    );
    animation: gradientShift 15s ease infinite;
    will-change: transform;
  }
}

/* ========================================
   ANIMATIONS - OPTIMIZED FOR 60FPS
   ======================================== */

@layer utilities {
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes glitch-skew {
    0%,
    100% {
      transform: skew(0deg);
    }
    20% {
      transform: skew(-10deg);
    }
    40% {
      transform: skew(10deg);
    }
    60% {
      transform: skew(-5deg);
    }
    80% {
      transform: skew(5deg);
    }
  }

  @keyframes glitch-anim-1 {
    0% {
      clip-path: inset(20% 0 80% 0);
    }
    20% {
      clip-path: inset(60% 0 10% 0);
    }
    40% {
      clip-path: inset(40% 0 50% 0);
    }
    60% {
      clip-path: inset(80% 0 5% 0);
    }
    80% {
      clip-path: inset(10% 0 60% 0);
    }
    100% {
      clip-path: inset(30% 0 30% 0);
    }
  }

  @keyframes glitch-anim-2 {
    0% {
      clip-path: inset(10% 0 60% 0);
    }
    20% {
      clip-path: inset(30% 0 20% 0);
    }
    40% {
      clip-path: inset(10% 0 80% 0);
    }
    60% {
      clip-path: inset(70% 0 10% 0);
    }
    80% {
      clip-path: inset(50% 0 30% 0);
    }
    100% {
      clip-path: inset(0% 0 90% 0);
    }
  }

  @keyframes gradientShift {
    0%,
    100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(50%, 50%);
    }
  }
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

@layer utilities {
  .shadow-brutal {
    box-shadow: var(--shadow-brutal);
  }

  .shadow-brutal-sm {
    box-shadow: var(--shadow-brutal-sm);
  }

  .shadow-brutal-hover {
    transition: all var(--transition-duration) var(--transition-timing);
  }

  .shadow-brutal-hover:hover {
    box-shadow: 12px 12px 0px 0px var(--text-ink);
    transform: translate(-4px, -4px);
  }
}

/* ========================================
   ACCESSIBILITY & PERFORMANCE
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  html {
    scroll-behavior: auto !important;
  }
}

/* Print styles */
@media print {
  .glass-panel,
  .glass-panel-sm {
    background: white !important;
    backdrop-filter: none !important;
    border: 1px solid #e5e7eb !important;
  }

  .bg-noise::before,
  .bg-gradient-animated::before {
    display: none !important;
  }
}

/* Smooth scrolling enhancement for webkit browsers */
@supports (-webkit-overflow-scrolling: touch) {
  html {
    -webkit-overflow-scrolling: touch;
  }
}
