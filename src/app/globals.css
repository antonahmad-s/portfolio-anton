@import 'tailwindcss';

/* ========================================
   TAILWIND V4 THEME CONFIGURATION
   ======================================== */

@theme {
  /* Core Design Tokens - Creates Global Variables */

  /* Background Colors */
  --color-paper-light: #f4f4f0; /* Light cream paper */
  --color-paper-dark: #0a0a0a; /* Deep Void Black */

  /* Text Colors */
  --color-ink-light: #1a1a1a; /* Dark text for light mode */
  --color-ink-dark: #e0e0e0; /* Off-White Phosphor */

  /* Accent Colors */
  --color-accent: #d4ff00; /* Highlighter Yellow - exact match dari screenshot */
  --color-accent-secondary: #ffb38e; /* Coral Peach - warm complement */
  --color-success: #00cc66; /* Success green */
  --color-success-dark: #00ff66; /* Neon Green for dark mode */
  --color-alert: #ff4500; /* Alert orange-red */
  --color-alert-dark: #ff3333; /* Bright red for dark mode */

  /* Grid & Borders */
  --color-grid-light: #d4d4d4; /* Light grid */
  --color-grid-dark: #333333; /* Dark grid */

  /* Text Hierarchy */
  --color-muted-light: #666666; /* Muted text light */
  --color-muted-dark: #888888; /* Muted text dark */

  --color-dim-light: #999999; /* Dim text light */
  --color-dim-dark: #555555; /* Dim text dark */

  /* Shadow System */
  --shadow-text: rgba(0, 0, 0, 0.1); /* Subtle text shadow */
  --shadow-text-light: rgba(0, 0, 0, 0.05); /* Lighter text shadow */
  --shadow-accent-glow: rgba(212, 255, 0, 0.5); /* Lime yellow glow effect */

  /* Glitch Colors */
  --glitch-r: #ff0000; /* Red channel */
  --glitch-b: #0000ff; /* Blue channel */
  --glitch-c: #00ffff; /* Cyan channel */

  /* Grid & Lines */
  --color-grid-line: #cccccc; /* Grid line color */

  /* Theme Meta Colors */
  --theme-light: #f8f9fa; /* Light theme meta color */
  --theme-dark: #050607; /* Dark theme meta color */

  /* Preloader Specific */
  --color-preloader-text: #1a1a1a; /* Preloader animation text */

  /* Typography */
  --font-serif: 'Playfair Display', serif;
  --font-mono: 'Roboto Mono', 'JetBrains Mono', monospace;
  --font-sans: 'Inter', system-ui, sans-serif;

  /* Shadows */
  --shadow-brutal: 8px 8px 0px 0px currentColor;
  --shadow-brutal-sm: 4px 4px 0px 0px currentColor;
}

/* ========================================
   STATIC DESIGN CONSTANTS
   ======================================== */

@theme inline {
  /* Static values that never change across themes */
  --glass-blur: 16px;
  --noise-opacity-light: 0.05;
  --noise-opacity-dark: 0.08;
  --transition-duration: 0.3s;
  --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========================================
   BASE LAYER
   ======================================== */

@layer base {
  :root {
    /* Default theme variables (Light Mode) */
    --bg-paper: var(--color-paper-light);
    --text-ink: var(--color-ink-light);
    --color-grid: var(--color-grid-light);
    --text-muted: var(--color-muted-light);
    --text-dim: var(--color-dim-light);
    --color-success: var(--color-success);
    --color-alert: var(--color-alert);
    --noise-opacity: var(--noise-opacity-light);
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(26, 26, 26, 0.08);
  }

  .dark {
    /* Dark theme overrides */
    --bg-paper: var(--color-paper-dark);
    --text-ink: var(--color-ink-dark);
    --color-grid: var(--color-grid-dark);
    --text-muted: var(--color-muted-dark);
    --text-dim: var(--color-dim-dark);
    --color-success: var(--color-success-dark);
    --color-alert: var(--color-alert-dark);
    --noise-opacity: var(--noise-opacity-dark);
    --glass-bg: rgba(10, 10, 10, 0.8);
    --glass-border: rgba(224, 224, 224, 0.08);
  }

  .light {
    /* Explicit Light theme (optional) */
    --bg-paper: var(--color-paper-light);
    --text-ink: var(--color-ink-light);
    --color-grid: var(--color-grid-light);
    --text-muted: var(--color-muted-light);
    --text-dim: var(--color-dim-light);
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(26, 26, 26, 0.08);
  }

  html {
    scroll-padding-top: 80px;
    overflow-x: hidden;
  }

  body {
    background-color: var(--bg-paper);
    color: var(--text-ink);
    font-family: var(--font-mono);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color 0.5s var(--transition-timing),
      color 0.5s var(--transition-timing);
  }

  ::selection {
    background: var(--color-accent);
    color: var(--bg-paper);
  }
}

/* ========================================
   UTILITIES LAYER
   ======================================== */

@layer utilities {
  /* Glassmorphism Components */
  .glass-panel {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid var(--glass-border);
    border-radius: 12px;
  }

  @supports not (backdrop-filter: blur(1px)) {
    .glass-panel {
      background: rgba(10, 10, 10, 0.95);
    }
  }

  .glass-panel-sm {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
  }

  /* Glow Effects - Lime Yellow */
  .glow-lime {
    box-shadow: 0 0 30px
      color-mix(in oklch, var(--color-accent) 40%, transparent);
  }

  .glow-lime-soft {
    box-shadow: 0 0 20px
      color-mix(in oklch, var(--color-accent) 15%, transparent);
  }

  .glow-coral {
    box-shadow: 0 0 30px
      color-mix(in oklch, var(--color-accent-secondary) 40%, transparent);
  }

  .hover-glow {
    transition: all var(--transition-duration) var(--transition-timing);
  }

  .hover-glow:hover {
    box-shadow: 0 10px 40px
      color-mix(in oklch, var(--color-accent) 15%, transparent);
    transform: translateY(-4px);
  }

  /* Text Effects */
  .text-glow {
    text-shadow: 0 0 20px
      color-mix(in oklch, var(--color-accent) 40%, transparent);
  }

  .text-shadow-subtle {
    text-shadow: 0 2px 4px var(--shadow-text);
  }

  .text-shadow-light {
    text-shadow: 0 1px 2px var(--shadow-text-light);
  }

  .shadow-accent-glow {
    box-shadow: 0 0 15px var(--shadow-accent-glow);
  }

  .text-outline {
    -webkit-text-stroke: 1px currentColor;
    color: transparent;
  }

  /* Noise Texture - Optimized */
  .bg-noise {
    position: relative;
  }

  .bg-noise::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAwIDIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZmlsdGVyIGlkPSJub2lzZUZpbHRlciI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjbm9pc2VGaWx0ZXIpIiBvcGFjaXR5PSIwLjA1Ii8+PC9zdmc+');
    opacity: var(--noise-opacity);
    pointer-events: none;
    will-change: auto;
    z-index: -1;
  }

  /* Dashed grid line effect */
  .dashed-line {
    background-image: linear-gradient(
      to bottom,
      currentColor 50%,
      transparent 50%
    );
    background-size: 1px 12px;
    background-repeat: repeat-y;
  }

  /* Animated gradient background - GPU optimized */
  .bg-gradient-animated {
    position: relative;
    overflow: hidden;
  }

  .bg-gradient-animated::before {
    content: '';
    position: absolute;
    inset: -100%;
    background: linear-gradient(
      135deg,
      transparent 0%,
      color-mix(in oklch, var(--color-accent) 3%, transparent) 50%,
      transparent 100%
    );
    animation: gradientShift 15s ease infinite;
    will-change: transform;
  }
}

/* ========================================
   ANIMATIONS - OPTIMIZED FOR 60FPS
   ======================================== */

@layer utilities {
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes glitch-skew {
    0%,
    100% {
      transform: skew(0deg);
    }
    20% {
      transform: skew(-10deg);
    }
    40% {
      transform: skew(10deg);
    }
    60% {
      transform: skew(-5deg);
    }
    80% {
      transform: skew(5deg);
    }
  }

  @keyframes glitch-anim-1 {
    0% {
      clip-path: inset(20% 0 80% 0);
    }
    20% {
      clip-path: inset(60% 0 10% 0);
    }
    40% {
      clip-path: inset(40% 0 50% 0);
    }
    60% {
      clip-path: inset(80% 0 5% 0);
    }
    80% {
      clip-path: inset(10% 0 60% 0);
    }
    100% {
      clip-path: inset(30% 0 30% 0);
    }
  }

  @keyframes glitch-anim-2 {
    0% {
      clip-path: inset(10% 0 60% 0);
    }
    20% {
      clip-path: inset(30% 0 20% 0);
    }
    40% {
      clip-path: inset(10% 0 80% 0);
    }
    60% {
      clip-path: inset(70% 0 10% 0);
    }
    80% {
      clip-path: inset(50% 0 30% 0);
    }
    100% {
      clip-path: inset(0% 0 90% 0);
    }
  }

  @keyframes gradientShift {
    0%,
    100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(50%, 50%);
    }
  }
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

@layer utilities {
  .shadow-brutal {
    box-shadow: var(--shadow-brutal);
  }

  .shadow-brutal-sm {
    box-shadow: var(--shadow-brutal-sm);
  }

  .shadow-brutal-hover {
    transition: all var(--transition-duration) var(--transition-timing);
  }

  .shadow-brutal-hover:hover {
    box-shadow: 12px 12px 0px 0px var(--text-ink);
    transform: translate(-4px, -4px);
  }
}

/* ========================================
   ACCESSIBILITY & PERFORMANCE
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  html {
    scroll-behavior: auto !important;
  }
}

/* Print styles */
@media print {
  .glass-panel,
  .glass-panel-sm {
    background: white !important;
    backdrop-filter: none !important;
    border: 1px solid #e5e7eb !important;
  }

  .bg-noise::before,
  .bg-gradient-animated::before {
    display: none !important;
  }
}

/* Smooth scrolling enhancement for webkit browsers */
@supports (-webkit-overflow-scrolling: touch) {
  html {
    -webkit-overflow-scrolling: touch;
  }
}
